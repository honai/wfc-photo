(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){},178:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=a(37),l=a(46),s=a(18),m=a(220),u=a(219),f=a(85),d=a(218),E=a(34),b=a.n(E),p=a(80),g=a.n(p),h=a(22),j=a.n(h),v=a(78),O=a.n(v),k=(a(96),function(e){var t=e.match.params.id,a=Object(n.useState)(e.image),c=Object(s.a)(a,2),i=c[0],o=c[1];Object(n.useEffect)(function(){fetch("https://wfc-2019.firebaseapp.com/image/"+t).then(function(e){return e.json()}).then(function(e){e.ok&&o(e.data)})},[t]);var l=Object(n.useState)(!1),m=Object(s.a)(l,2),u=m[0],f=m[1];return r.a.createElement("div",{className:"photo-detail"},r.a.createElement("div",null,r.a.createElement(d.a,{to:"/"},r.a.createElement("div",{className:"close-button"},r.a.createElement("i",{className:"material-icons"},"arrow_back_ios")))),r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:i.url,alt:i.description})),r.a.createElement("div",null,r.a.createElement(b.a,{className:"close-button",onClick:function(){f(!u)}},r.a.createElement("i",{className:"material-icons",style:{color:"#fff"}},"info"))),r.a.createElement(g.a,{direction:"up",in:u,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"info-card"},r.a.createElement(j.a,{style:{fontSize:"1.2rem"}},"Title: ",i.title),r.a.createElement(j.a,{style:{fontSize:"1.2rem"}},"Date: ",r.a.createElement(O.a,{format:"YYYY/MM/DD"},i.date)),r.a.createElement(j.a,{style:{fontSize:"1.2rem"}},"Author: ",i.author))))}),S=a(45),N=a.n(S),w=a(44),C=a.n(w),L=(a(175),function(e){var t=e.imagesList,a=e.onLinkClick,n=e.gridSize,c=(e.loadMore,[6,4,3,2,1,1,1]);return r.a.createElement("div",{className:"photos-wrap"},r.a.createElement(N.a,{container:!0,spacing:8},t.map(function(e){return r.a.createElement(N.a,{item:!0,className:"grid-item",key:e.id,xs:c[n],sm:c[n+1],md:c[n+2]},r.a.createElement(d.a,{to:"/detail/".concat(e.id),onClick:function(){return a(e.id)}},r.a.createElement("div",{className:"photo-aspectfix"},r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement("img",{className:"list-img",src:e.url,width:"100%",height:"100%",alt:e.description}))))))})))}),y=a(81),z=a.n(y),x=a(82),I=a.n(x),Y=a(83),D=a.n(Y),G=a(36),M=a.n(G),_=(a(178),function(e){var t=e.setGridSize,a=Object(n.useState)(null),c=Object(s.a)(a,2),i=c[0],o=c[1],l=function(e){o(null),t(e)};return r.a.createElement(z.a,{position:"fixed",className:"app-bar",color:"primary"},r.a.createElement(I.a,{className:"tool-bar"},r.a.createElement(j.a,{variant:"h6",color:"inherit"},"GridPics"),r.a.createElement(b.a,{onClick:function(e){o(e.currentTarget)},"aria-owns":i?"simple-menu":void 0,"aria-haspopup":"true"},r.a.createElement("i",{className:"material-icons",style:{color:"#fff"}},"more_vert")),r.a.createElement(D.a,{id:"simple-menu",anchorEl:i,open:Boolean(i),onClose:function(){o(null)}},r.a.createElement(M.a,{onClick:function(){return l(0)}},"\u30b0\u30ea\u30c3\u30c9(\u5927)"),r.a.createElement(M.a,{onClick:function(){return l(1)}},"\u30b0\u30ea\u30c3\u30c9(\u4e2d)"),r.a.createElement(M.a,{onClick:function(){return l(2)}},"\u30b0\u30ea\u30c3\u30c9(\u5c0f)"))))}),B=function(){var e=Object(n.useState)({before:0,current:0}),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(1),d=Object(s.a)(i,2),E=d[0],b=d[1],p=Object(n.useState)({isLoaded:!1,error:!1}),g=Object(s.a)(p,2),h=g[0],j=g[1],v=Object(n.useState)([]),O=Object(s.a)(v,2),S=O[0],N=O[1],w=Object(n.useState)({id:null,imageInfo:{}}),C=Object(s.a)(w,2),y=C[0],z=C[1];Object(n.useEffect)(function(){var e="https://wfc-2019.firebaseapp.com/images?offset="+String(a.before)+"&limit="+String(a.current-a.before);console.log("started fetch"),fetch(e).then(function(e){return e.json()}).then(function(e){e.ok?(N([].concat(Object(l.a)(S),Object(l.a)(e.data.images))),j(Object(o.a)({},h,{isLoaded:!0,error:!1}))):(j(Object(o.a)({},h,{isLoaded:!0,error:!0})),console.log("response is not ok."))},function(e){j(Object(o.a)({},h,{isLoaded:!0,error:!0})),console.log(e)})},[a]);var x={onChange:function(){var e;e=50,c({before:a.current,current:a.current+e})}};return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(_,{setGridSize:b}),r.a.createElement("div",{style:{height:"70px"}}),r.a.createElement(L,{imagesList:S,onLinkClick:function(e){z({id:e,imageInfo:S.find(function(t){return t.id===e})})},gridSize:E}),!h.isLoaded&&r.a.createElement("div",null,"Loading..."),!!h.error&&r.a.createElement("div",null,"\u518d\u5ea6\u8aad\u307f\u8fbc\u307f\u3057\u3066\u306d"),r.a.createElement(f.a,x,r.a.createElement("div",null)),r.a.createElement(u.a,{path:"/detail/:id",render:function(e){return r.a.createElement(k,Object.assign({},e,{image:y.imageInfo}))}})))};a(216);i.a.render(r.a.createElement(B,null),document.getElementById("root"))},86:function(e,t,a){e.exports=a(217)},96:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.be88b169.chunk.js.map