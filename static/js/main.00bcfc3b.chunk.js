(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),i=a.n(r),o=a(33),l=a(41),s=a(18),u=a(214),m=a(213),f=a(212),d=(a(86),function(e){var t=e.match.params.id,a=Object(n.useState)(e.image),r=Object(s.a)(a,2),i=r[0],o=r[1];return Object(n.useEffect)(function(){fetch("https://wfc-2019.firebaseapp.com/image/"+t).then(function(e){return e.json()}).then(function(e){e.ok&&o(e.data)})},[t]),c.a.createElement("div",{className:"photo-detail"},c.a.createElement(f.a,{to:"/"},c.a.createElement("div",{className:"close-button"},c.a.createElement("i",{className:"material-icons"},"close"))),c.a.createElement("div",{className:"photo"},c.a.createElement("img",{src:i.url})))}),E=a(40),p=a.n(E),b=a(39),g=a.n(b),h=(a(94),function(e){var t=e.imagesList,a=e.onLinkClick,n=e.gridSize,r=(e.loadMore,[6,4,3,2,1,1,1]);return c.a.createElement("div",{className:"photos-wrap"},c.a.createElement(p.a,{container:!0,spacing:8},t.map(function(e){return c.a.createElement(p.a,{item:!0,className:"grid-item",key:e.id,xs:r[n],sm:r[n+1],md:r[n+2]},c.a.createElement(f.a,{to:"/detail/".concat(e.id),onClick:function(){return a(e.id)}},c.a.createElement("div",{className:"photo-aspectfix"},c.a.createElement("div",null,c.a.createElement(g.a,null,c.a.createElement("img",{className:"list-img",src:e.url,width:"100%",height:"100%",alt:e.description}))))))})))}),j=a(75),O=a.n(j),v=a(76),k=a.n(v),S=a(77),w=a.n(S),N=a(78),L=a.n(N),C=a(79),x=a.n(C),y=a(32),z=a.n(y),I=(a(153),function(e){var t=e.setGridSize,a=Object(n.useState)(null),r=Object(s.a)(a,2),i=r[0],o=r[1],l=function(e){o(null),t(e)};return c.a.createElement(O.a,{position:"fixed",className:"app-bar",color:"primary"},c.a.createElement(k.a,{className:"tool-bar"},c.a.createElement(w.a,{variant:"h6",color:"inherit"},"Photos"),c.a.createElement(L.a,{onClick:function(e){o(e.currentTarget)},"aria-owns":i?"simple-menu":void 0,"aria-haspopup":"true"},c.a.createElement("i",{className:"material-icons",style:{color:"#fff"}},"more_vert")),c.a.createElement(x.a,{id:"simple-menu",anchorEl:i,open:Boolean(i),onClose:function(){o(null)}},c.a.createElement(z.a,{onClick:function(){return l(0)}},"\u30b0\u30ea\u30c3\u30c9(\u5927)"),c.a.createElement(z.a,{onClick:function(){return l(1)}},"\u30b0\u30ea\u30c3\u30c9(\u4e2d)"),c.a.createElement(z.a,{onClick:function(){return l(2)}},"\u30b0\u30ea\u30c3\u30c9(\u5c0f)"))))}),B=(a(208),function(){var e=Object(n.useState)({before:0,current:20}),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(1),f=Object(s.a)(i,2),E=f[0],p=f[1],b=Object(n.useState)({isLoaded:!1,error:!1}),g=Object(s.a)(b,2),j=g[0],O=g[1],v=Object(n.useState)([]),k=Object(s.a)(v,2),S=k[0],w=k[1],N=Object(n.useState)({id:null,imageInfo:{}}),L=Object(s.a)(N,2),C=L[0],x=L[1];return Object(n.useEffect)(function(){var e="https://wfc-2019.firebaseapp.com/images?offset="+String(a.before)+"&limit="+String(a.current-a.before);console.log("started fetch"),fetch(e).then(function(e){return e.json()}).then(function(e){e.ok?(w([].concat(Object(l.a)(S),Object(l.a)(e.data.images))),O(Object(o.a)({},j,{isLoaded:!0,error:!1}))):(O(Object(o.a)({},j,{isLoaded:!0,error:!0})),console.log("response is not ok."))},function(e){O(Object(o.a)({},j,{isLoaded:!0,error:!0})),console.log(e)})},[a]),c.a.createElement(u.a,null,c.a.createElement("div",null,c.a.createElement(I,{setGridSize:p}),c.a.createElement("div",{style:{height:"70px"}}),c.a.createElement(h,{imagesList:S,onLinkClick:function(e){x({id:e,imageInfo:S.find(function(t){return t.id===e})})},gridSize:E}),!j.isLoaded&&c.a.createElement("div",null,"Loading..."),!!j.error&&c.a.createElement("div",null,"\u518d\u5ea6\u8aad\u307f\u8fbc\u307f\u3057\u3066\u306d"),c.a.createElement("button",{onClick:function(){return e=10,void r({before:a.current,current:a.current+e});var e}},"\u3082\u3063\u3068\u8aad\u307f\u8fbc\u3080"),c.a.createElement(m.a,{path:"/detail/:id",render:function(e){return c.a.createElement(d,Object.assign({},e,{image:C.imageInfo}))}})))});a(210);i.a.render(c.a.createElement(B,null),document.getElementById("root"))},81:function(e,t,a){e.exports=a(211)},86:function(e,t,a){},94:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.00bcfc3b.chunk.js.map