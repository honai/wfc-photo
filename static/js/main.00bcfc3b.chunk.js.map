{"version":3,"sources":["PhotoDetail.js","PhotoList.js","Component/TitleBar.js","App.js","index.js"],"names":["PhotoDetail","props","id","match","params","_useState","useState","image","_useState2","Object","slicedToArray","setImages","useEffect","fetch","then","response","json","ok","data","react_default","a","createElement","className","Link","to","src","url","PhotoList","_ref","imagesList","onLinkClick","gridSize","columnsDef","loadMore","Grid_default","container","spacing","map","item","key","xs","sm","md","concat","onClick","lib_default","width","height","alt","description","TitleBar","setGridSize","anchorEl","setAnchorEl","handleChange","size","AppBar_default","position","color","Toolbar_default","Typography_default","variant","Button_default","event","currentTarget","aria-owns","undefined","aria-haspopup","style","Menu_default","open","Boolean","onClose","MenuItem_default","App","before","current","listSize","setListSize","_useState3","_useState4","_useState5","isLoaded","error","_useState6","apiStatus","setApiStatus","_useState7","_useState8","setImagesList","_useState9","imageInfo","_useState10","currentDetailStatus","setCurrentDetailStatus","String","console","log","toConsumableArray","images","objectSpread","BrowserRouter","src_Component_TitleBar","src_PhotoList_0","find","elem","Route","path","render","src_PhotoDetail","assign","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.00bcfc3b.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './detail.css';\r\n\r\nconst PhotoDetail = (props) => {\r\n  const { id } = props.match.params;\r\n  const [image, setImages] = useState(props.image);\r\n  useEffect(() => {\r\n    fetch('https://wfc-2019.firebaseapp.com/image/' + id)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if(response.ok) {\r\n          setImages(response.data);\r\n        }\r\n      })\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className='photo-detail'>\r\n      <Link to='/'>\r\n        <div className='close-button'><i className=\"material-icons\">close</i></div>\r\n      </Link>\r\n      <div className='photo'>\r\n        <img src={image.url} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PhotoDetail;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LazyLoad from 'react-lazyload';\r\n// import InfiniteScroll from 'react-infinite-scroller';\r\n\r\n\r\nimport './PhotoList.css';\r\n\r\nconst PhotoList = ({imagesList, onLinkClick, gridSize, loadMore}) => {\r\n  const columnsDef = [6, 4, 3, 2, 1, 1, 1];\r\n  return (\r\n    <div className='photos-wrap'>\r\n      <Grid container spacing={8}>\r\n          {imagesList.map(image => (\r\n            <Grid item className='grid-item' key={image.id}\r\n              xs={columnsDef[gridSize]}\r\n              sm={columnsDef[gridSize+1]}\r\n              md={columnsDef[gridSize+2]}\r\n            >\r\n              <Link to={`/detail/${image.id}`} onClick={() => onLinkClick(image.id)}>\r\n                <div className='photo-aspectfix'>\r\n                  <div><LazyLoad><img className='list-img' src={image.url} width='100%' height='100%' alt={image.description} /></LazyLoad></div>\r\n                </div>\r\n              </Link>\r\n            </Grid>\r\n          ))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PhotoList;","import React, { useState } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport './TitleBar.css';\r\n\r\nconst TitleBar = ({setGridSize}) => {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const handleClick = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  }\r\n  const handleChange = size => {\r\n    setAnchorEl(null);\r\n    setGridSize(size);\r\n  }\r\n  return (\r\n    <AppBar position=\"fixed\" className='app-bar' color='primary'>\r\n      <Toolbar className='tool-bar'>\r\n        <Typography variant=\"h6\" color=\"inherit\">\r\n          Photos\r\n        </Typography>\r\n        <Button onClick={handleClick}\r\n          aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n          aria-haspopup=\"true\"\r\n        >\r\n          <i className=\"material-icons\" style={{color: '#fff', }}>more_vert</i>\r\n        </Button>\r\n        <Menu\r\n          id=\"simple-menu\"\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleClose}\r\n        >\r\n          <MenuItem onClick={() => handleChange(0)}>グリッド(大)</MenuItem>\r\n          <MenuItem onClick={() => handleChange(1)}>グリッド(中)</MenuItem>\r\n          <MenuItem onClick={() => handleChange(2)}>グリッド(小)</MenuItem>\r\n        </Menu>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default TitleBar;","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\r\nimport PhotoDetail from './PhotoDetail';\r\nimport PhotoList from './PhotoList';\r\nimport TitleBar from './Component/TitleBar';\r\nimport './animation.css';\r\n\r\nconst App = () => {\r\n  const [listSize, setListSize] = useState({before: 0, current: 20});\r\n  const [gridSize, setGridSize] = useState(1);\r\n  const [apiStatus, setApiStatus] = useState({isLoaded: false, error: false});\r\n  const [imagesList, setImagesList] = useState([]);\r\n  const [currentDetailStatus, setCurrentDetailStatus] = useState({id: null, imageInfo: {}});\r\n  useEffect(() => {\r\n    const url = 'https://wfc-2019.firebaseapp.com/images?'\r\n      + 'offset=' + String(listSize.before)\r\n      + '&limit=' + String(listSize.current - listSize.before);\r\n    console.log('started fetch');\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if(response.ok) {\r\n          setImagesList([...imagesList, ...response.data.images]);\r\n          setApiStatus({...apiStatus, isLoaded: true, error: false});\r\n        } else {\r\n          setApiStatus({...apiStatus, isLoaded: true, error: true});\r\n          console.log('response is not ok.');\r\n        }\r\n      },\r\n      (error) => {\r\n        setApiStatus({...apiStatus, isLoaded: true, error: true});\r\n        console.log(error);\r\n      });\r\n  }, [listSize]);\r\n\r\n  function onLinkClick(id) {\r\n    setCurrentDetailStatus({id: id, imageInfo: imagesList.find(elem => elem.id === id)});\r\n  }\r\n\r\n  function gainListSize(size) {\r\n    setListSize({before: listSize.current, current: listSize.current + size});\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div>\r\n        <TitleBar setGridSize={setGridSize} />\r\n        <div style={{height: '70px'}}></div>\r\n        <PhotoList imagesList={imagesList} onLinkClick={onLinkClick} gridSize={gridSize} />\r\n        {apiStatus.isLoaded ? false : <div>Loading...</div>}\r\n        {apiStatus.error ? <div>再度読み込みしてね</div> : false}\r\n        <button onClick={() => gainListSize(10)}>もっと読み込む</button>\r\n\r\n        <Route path='/detail/:id' render={(props) => (\r\n          <PhotoDetail {...props} image={currentDetailStatus.imageInfo} />\r\n        )} />\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}