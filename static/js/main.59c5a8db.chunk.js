(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){},178:function(e,t,a){},216:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),i=a.n(r),o=a(37),l=a(46),s=a(18),m=a(221),u=a(220),d=a(85),f=a(219),E=a(34),p=a.n(E),b=a(80),g=a.n(b),h=a(22),v=a.n(h),j=a(78),O=a.n(j),k=(a(96),function(e){var t=e.match.params.id,a=Object(n.useState)(e.image),r=Object(s.a)(a,2),i=r[0],o=r[1];Object(n.useEffect)(function(){fetch("https://wfc-2019.firebaseapp.com/image/"+t).then(function(e){return e.json()}).then(function(e){e.ok&&o(e.data)})},[t]);var l=Object(n.useState)(!1),m=Object(s.a)(l,2),u=m[0],d=m[1];return c.a.createElement("div",{className:"photo-detail"},c.a.createElement("div",{className:"button-wrap"},c.a.createElement(f.a,{to:"/"},c.a.createElement("div",{className:"close-button"},c.a.createElement("i",{className:"material-icons"},"arrow_back_ios")))),c.a.createElement("div",{className:"photo ".concat(u?"open":"")},c.a.createElement("img",{src:i.url,alt:i.description})),c.a.createElement("div",{className:"button-wrap"},c.a.createElement(p.a,{className:"close-button",onClick:function(){d(!u)}},c.a.createElement("i",{className:"material-icons",style:{color:"#fff"}},"info"))),c.a.createElement(g.a,{direction:"up",in:u,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement("div",{className:"info-card"},c.a.createElement(v.a,{style:{fontSize:"1.2rem"}},"Title: ",i.title),c.a.createElement(v.a,{style:{fontSize:"1.2rem"}},"Date: ",c.a.createElement(O.a,{format:"YYYY/MM/DD"},i.date)),c.a.createElement(v.a,{style:{fontSize:"1.2rem"}},"Author: ",i.author))))}),N=a(45),S=a.n(N),w=a(44),C=a.n(w),L=(a(175),function(e){var t=e.imagesList,a=e.onLinkClick,n=e.gridSize,r=(e.loadMore,[6,4,3,2,1,1,1]);return c.a.createElement("div",{className:"photos-wrap"},c.a.createElement(S.a,{container:!0,spacing:8},t.map(function(e){return c.a.createElement(S.a,{item:!0,className:"grid-item",key:e.id,xs:r[n],sm:r[n+1],md:r[n+2]},c.a.createElement(f.a,{to:"/detail/".concat(e.id),onClick:function(){return a(e.id)}},c.a.createElement("div",{className:"photo-aspectfix"},c.a.createElement("div",null,c.a.createElement(C.a,null,c.a.createElement("img",{className:"list-img",src:e.url,width:"100%",height:"100%",alt:e.description}))))))})))}),y=a(81),x=a.n(y),z=a(82),I=a.n(z),Y=a(83),D=a.n(Y),G=a(36),M=a.n(G),_=(a(178),function(e){var t=e.setGridSize,a=Object(n.useState)(null),r=Object(s.a)(a,2),i=r[0],o=r[1],l=function(e){o(null),t(e)};return c.a.createElement(x.a,{position:"fixed",className:"app-bar",style:{backgroundColor:"#29abe2"}},c.a.createElement(I.a,{className:"tool-bar"},c.a.createElement("div",{className:"titlebar-icon"},c.a.createElement("img",{src:"apple-touch-icon.png",alt:"icon",width:"35px"})),c.a.createElement(v.a,{variant:"h6",color:"inherit"},"GridPics"),c.a.createElement(p.a,{onClick:function(e){o(e.currentTarget)},"aria-owns":i?"simple-menu":void 0,"aria-haspopup":"true"},c.a.createElement("i",{className:"material-icons",style:{color:"#fff"}},"more_vert")),c.a.createElement(D.a,{id:"simple-menu",anchorEl:i,open:Boolean(i),onClose:function(){o(null)}},c.a.createElement(M.a,{onClick:function(){return l(0)}},"\u30b0\u30ea\u30c3\u30c9(\u5927)"),c.a.createElement(M.a,{onClick:function(){return l(1)}},"\u30b0\u30ea\u30c3\u30c9(\u4e2d)"),c.a.createElement(M.a,{onClick:function(){return l(2)}},"\u30b0\u30ea\u30c3\u30c9(\u5c0f)"))))}),B=function(){var e=Object(n.useState)({before:0,current:0}),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(1),f=Object(s.a)(i,2),E=f[0],p=f[1],b=Object(n.useState)({isLoaded:!1,error:!1}),g=Object(s.a)(b,2),h=g[0],v=g[1],j=Object(n.useState)([]),O=Object(s.a)(j,2),N=O[0],S=O[1],w=Object(n.useState)({id:null,imageInfo:{}}),C=Object(s.a)(w,2),y=C[0],x=C[1];Object(n.useEffect)(function(){var e="https://wfc-2019.firebaseapp.com/images?offset="+String(a.before)+"&limit="+String(a.current-a.before);console.log("started fetch"),fetch(e).then(function(e){return e.json()}).then(function(e){e.ok?(S([].concat(Object(l.a)(N),Object(l.a)(e.data.images))),v(Object(o.a)({},h,{isLoaded:!0,error:!1}))):(v(Object(o.a)({},h,{isLoaded:!0,error:!0})),console.log("response is not ok."))},function(e){v(Object(o.a)({},h,{isLoaded:!0,error:!0})),console.log(e)})},[a]);var z={onChange:function(){var e;e=50,r({before:a.current,current:a.current+e})}};return c.a.createElement(m.a,null,c.a.createElement("div",null,c.a.createElement(_,{setGridSize:p}),c.a.createElement("div",{style:{height:"75px"}}),c.a.createElement(L,{imagesList:N,onLinkClick:function(e){x({id:e,imageInfo:N.find(function(t){return t.id===e})})},gridSize:E}),!h.isLoaded&&c.a.createElement("div",null,"Loading..."),!!h.error&&c.a.createElement("div",null,"\u518d\u5ea6\u8aad\u307f\u8fbc\u307f\u3057\u3066\u306d"),c.a.createElement(d.a,z,c.a.createElement("div",null)),c.a.createElement(u.a,{path:"/detail/:id",render:function(e){return c.a.createElement(k,Object.assign({},e,{image:y.imageInfo}))}})))};a(216),a(217);i.a.render(c.a.createElement(B,null),document.getElementById("root"))},86:function(e,t,a){e.exports=a(218)},96:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.59c5a8db.chunk.js.map