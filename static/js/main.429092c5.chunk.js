(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),i=n(7),l=n(10),s=n(5),u=n(43),m=n(42),d=(n(22),n(41)),f=(n(36),function(e){var t=e.match.params.id,n=Object(a.useState)(e.image),r=Object(s.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)(function(){fetch("https://wfc-2019.firebaseapp.com/image/"+t).then(function(e){return e.json()}).then(function(e){e.ok&&i(e.data)})},[t]),c.a.createElement("div",{className:"photo-detail"},c.a.createElement(d.a,{to:"/"},c.a.createElement("div",{className:"close-button"},c.a.createElement("i",{className:"material-icons"},"close"))),c.a.createElement("div",{className:"photo"},c.a.createElement("img",{src:o.url})))}),b=(n(37),function(e){var t=e.imagesList,n=e.onLinkClick;return c.a.createElement("div",{className:"photos-wrap"},t.map(function(e){return c.a.createElement("div",{className:"item",key:e.id},c.a.createElement(d.a,{to:"/detail/".concat(e.id),onClick:function(){return n(e.id)}},c.a.createElement("img",{src:e.url,width:"100%",alt:e.description})))}))}),E=(n(38),function(){var e=Object(a.useState)({before:0,current:10}),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)({isLoaded:!1,error:!1}),d=Object(s.a)(o,2),E=d[0],g=d[1],p=Object(a.useState)([]),j=Object(s.a)(p,2),O=j[0],h=j[1],v=Object(a.useState)({id:null,imageInfo:{}}),k=Object(s.a)(v,2),w=k[0],L=k[1];return Object(a.useEffect)(function(){var e="https://wfc-2019.firebaseapp.com/images?offset="+String(n.before)+"&limit="+String(n.current-n.before);console.log("started fetch"),fetch(e).then(function(e){return e.json()}).then(function(e){e.ok?(h([].concat(Object(l.a)(O),Object(l.a)(e.data.images))),g(Object(i.a)({},E,{isLoaded:!0,error:!1}))):(g(Object(i.a)({},E,{isLoaded:!0,error:!0})),console.log("response is not ok."))},function(e){g(Object(i.a)({},E,{isLoaded:!0,error:!0})),console.log(e)})},[n]),E.error?c.a.createElement("div",null,"\u518d\u5ea6\u8aad\u307f\u8fbc\u307f\u3057\u3066\u306d"):E.isLoaded?c.a.createElement(u.a,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h3",null,"\u30d5\u30a9\u30c8")),c.a.createElement(b,{imagesList:O,onLinkClick:function(e){L({id:e,imageInfo:O.find(function(t){return t.id===e})})}}),c.a.createElement("button",{onClick:function(e){r({before:n.current,current:n.current+e}),console.log(n)}},"\u3082\u3063\u3068\u8aad\u307f\u8fbc\u3080"),c.a.createElement(m.a,{path:"/detail/:id",render:function(e){return c.a.createElement(f,Object.assign({},e,{image:w.imageInfo}))}}))):c.a.createElement("div",null,"Loading...")});o.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.429092c5.chunk.js.map