(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){},178:function(e,t,a){},215:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),i=a.n(r),o=a(37),l=a(46),s=a(18),m=a(221),u=a(220),f=a(85),d=a(219),E=a(34),b=a.n(E),p=a(80),g=a.n(p),h=a(25),j=a.n(h),v=a(78),O=a.n(v),k=(a(96),function(e){var t=e.match.params.id,a=Object(n.useState)(e.image),r=Object(s.a)(a,2),i=r[0],o=r[1];Object(n.useEffect)(function(){fetch("https://wfc-2019.firebaseapp.com/image/"+t).then(function(e){return e.json()}).then(function(e){e.ok&&o(e.data)})},[t]);var l=Object(n.useState)(!1),m=Object(s.a)(l,2),u=m[0],f=m[1];return c.a.createElement("div",{className:"photo-detail"},c.a.createElement("div",null,c.a.createElement(d.a,{to:"/"},c.a.createElement("div",{className:"close-button"},c.a.createElement("i",{className:"material-icons"},"arrow_back_ios")))),c.a.createElement("div",{className:"photo"},c.a.createElement("img",{src:i.url})),c.a.createElement("div",null,c.a.createElement(b.a,{className:"close-button",onClick:function(){f(!u)}},c.a.createElement("i",{className:"material-icons",style:{color:"#fff"}},"info"))),c.a.createElement(g.a,{direction:"up",in:u,mountOnEnter:!0,unmountOnExit:!0},c.a.createElement("div",{className:"info-card"},c.a.createElement(j.a,{style:{fontSize:"1.2rem"}},"Title: ",i.title),c.a.createElement(j.a,{style:{fontSize:"1.2rem"}},"Date: ",c.a.createElement(O.a,{format:"YYYY/MM/DD"},i.date)))))}),S=a(45),N=a.n(S),w=a(44),C=a.n(w),L=(a(175),function(e){var t=e.imagesList,a=e.onLinkClick,n=e.gridSize,r=(e.loadMore,[6,4,3,2,1,1,1]);return c.a.createElement("div",{className:"photos-wrap"},c.a.createElement(N.a,{container:!0,spacing:8},t.map(function(e){return c.a.createElement(N.a,{item:!0,className:"grid-item",key:e.id,xs:r[n],sm:r[n+1],md:r[n+2]},c.a.createElement(d.a,{to:"/detail/".concat(e.id),onClick:function(){return a(e.id)}},c.a.createElement("div",{className:"photo-aspectfix"},c.a.createElement("div",null,c.a.createElement(C.a,null,c.a.createElement("img",{className:"list-img",src:e.url,width:"100%",height:"100%",alt:e.description}))))))})))}),y=a(81),x=a.n(y),z=a(82),I=a.n(z),Y=a(83),D=a.n(Y),M=a(36),_=a.n(M),B=(a(178),function(e){var t=e.setGridSize,a=Object(n.useState)(null),r=Object(s.a)(a,2),i=r[0],o=r[1],l=function(e){o(null),t(e)};return c.a.createElement(x.a,{position:"fixed",className:"app-bar",color:"primary"},c.a.createElement(I.a,{className:"tool-bar"},c.a.createElement(j.a,{variant:"h6",color:"inherit"},"Photo"),c.a.createElement(b.a,{onClick:function(e){o(e.currentTarget)},"aria-owns":i?"simple-menu":void 0,"aria-haspopup":"true"},c.a.createElement("i",{className:"material-icons",style:{color:"#fff"}},"more_vert")),c.a.createElement(D.a,{id:"simple-menu",anchorEl:i,open:Boolean(i),onClose:function(){o(null)}},c.a.createElement(_.a,{onClick:function(){return l(0)}},"\u30b0\u30ea\u30c3\u30c9(\u5927)"),c.a.createElement(_.a,{onClick:function(){return l(1)}},"\u30b0\u30ea\u30c3\u30c9(\u4e2d)"),c.a.createElement(_.a,{onClick:function(){return l(2)}},"\u30b0\u30ea\u30c3\u30c9(\u5c0f)"))))}),G=(a(215),function(){var e=Object(n.useState)({before:0,current:0}),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(1),d=Object(s.a)(i,2),E=d[0],b=d[1],p=Object(n.useState)({isLoaded:!1,error:!1}),g=Object(s.a)(p,2),h=g[0],j=g[1],v=Object(n.useState)([]),O=Object(s.a)(v,2),S=O[0],N=O[1],w=Object(n.useState)({id:null,imageInfo:{}}),C=Object(s.a)(w,2),y=C[0],x=C[1];Object(n.useEffect)(function(){var e="https://wfc-2019.firebaseapp.com/images?offset="+String(a.before)+"&limit="+String(a.current-a.before);console.log("started fetch"),fetch(e).then(function(e){return e.json()}).then(function(e){e.ok?(N([].concat(Object(l.a)(S),Object(l.a)(e.data.images))),j(Object(o.a)({},h,{isLoaded:!0,error:!1}))):(j(Object(o.a)({},h,{isLoaded:!0,error:!0})),console.log("response is not ok."))},function(e){j(Object(o.a)({},h,{isLoaded:!0,error:!0})),console.log(e)})},[a]);var z={onChange:function(){var e;e=50,r({before:a.current,current:a.current+e})}};return c.a.createElement(m.a,null,c.a.createElement("div",null,c.a.createElement(B,{setGridSize:b}),c.a.createElement("div",{style:{height:"70px"}}),c.a.createElement(L,{imagesList:S,onLinkClick:function(e){x({id:e,imageInfo:S.find(function(t){return t.id===e})})},gridSize:E}),!h.isLoaded&&c.a.createElement("div",null,"Loading..."),!!h.error&&c.a.createElement("div",null,"\u518d\u5ea6\u8aad\u307f\u8fbc\u307f\u3057\u3066\u306d"),c.a.createElement(f.a,z,c.a.createElement("div",null)),c.a.createElement(u.a,{path:"/detail/:id",render:function(e){return c.a.createElement(k,Object.assign({},e,{image:y.imageInfo}))}})))});a(217);i.a.render(c.a.createElement(G,null),document.getElementById("root"))},86:function(e,t,a){e.exports=a(218)},96:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.81156bf2.chunk.js.map